<!DOCTYPE html><html lang="en"><head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>My Perfect Site | Pictures of cool stuff</title>
      <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic">
      <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Lato&amp;subset=latin,latin-ext">
      <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/8.5/styles/default.min.css">
      <link rel="stylesheet" type="text/css" href="/style.css">
    </head>
    <body>
      <div class="container">

        <!-- Header -->

        <header>
          <h1><a href="/">My Perfect Site</a></h1>
          <nav>
            <ul>
              <li><a href="/about">About</a></li>
<li><a href="/blog">Blog</a></li>

<li><a href="/info">Info</a></li>

            </ul>
          </nav>
        </header>

        <!-- Main section -->

        <main>
          
          
          
    <h1 class="title">Pictures of cool stuff</h1>
    <summary>
      <span>Author: Eirik</span>
      <span> | </span>
      <span>Posted: 2015 April 10th</span>
    </summary>
    <article><h1 id="some-stuff-i-think-is-nice">Some stuff i think is nice</h1>
<p><img src="http://pictures.topspeed.com/IMG/crop/201406/porsche-991-turbo-st_600x0w.jpg" alt="yum"></p>
<pre><code class="lang-js hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getContent</span><span class="hljs-params">(dir)</span> </span>{
  <span class="hljs-keyword">return</span> fs.readdirSync(__dirname + dir).reduce(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(result, entry)</span> </span>{
    <span class="hljs-keyword">let</span> raw = fs.readFileSync(__dirname + dir + <span class="hljs-string">'/'</span> + entry, <span class="hljs-string">'utf-8'</span>).toString();
    <span class="hljs-keyword">let</span> regex = <span class="hljs-regexp">/(?:\r?\n){2}/g</span>;
    <span class="hljs-keyword">let</span> meta = raw.split(regex)[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">let</span> content = raw.split(regex).slice(<span class="hljs-number">1</span>).join(<span class="hljs-string">'\n\n'</span>);

    result[path.basename(entry, <span class="hljs-string">'.txt'</span>)] = {
      title: meta.match(<span class="hljs-regexp">/^TITLE:(.*)$/m</span>) &amp;&amp; meta.match(<span class="hljs-regexp">/^TITLE:(.*)$/m</span>)[<span class="hljs-number">1</span>],
      author: meta.match(<span class="hljs-regexp">/^AUTHOR:(.*)$/m</span>) &amp;&amp; meta.match(<span class="hljs-regexp">/^AUTHOR:(.*)$/m</span>)[<span class="hljs-number">1</span>],
      date: meta.match(<span class="hljs-regexp">/^DATE:(.*)$/m</span>) &amp;&amp; meta.match(<span class="hljs-regexp">/^DATE:(.*)$/m</span>)[<span class="hljs-number">1</span>],
      noMenu: meta.match(<span class="hljs-regexp">/^(NOMENU:1)$/m</span>) ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>,
      url: meta.match(<span class="hljs-regexp">/^URL:(.*)$/m</span>) &amp;&amp; meta.match(<span class="hljs-regexp">/^URL:(.*)$/m</span>)[<span class="hljs-number">1</span>],
      content: marked(content)
    };

    <span class="hljs-keyword">return</span> result;
  }, {});
}
</code></pre>
</article>
  
          
        </main>

        <!-- Footer -->

        <footer class="cf">
          <div class="left"><a href="">Â© 2020 My Perfect Site</a></div>
          <div class="right">Powered by <a href="https://github.com/eiriklv/blip">Blip</a>.</div>
        </footer>

        <!-- Scripts -->

        <script src="//cdn.jsdelivr.net/highlight.js/8.5/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

      </div>
    
  </body></html>